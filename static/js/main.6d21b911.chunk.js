(this["webpackJsonptreebank-template"]=this["webpackJsonptreebank-template"]||[]).push([[0],{11:function(e,t,a){e.exports={dropdownButton:"ControlPanel_dropdownButton__1o6TV",dropdownScroll:"ControlPanel_dropdownScroll__17rgQ",dummyIcon:"ControlPanel_dummyIcon__3Nk3N",link:"ControlPanel_link__OEqVs"}},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(44),o=a.n(s),c=(a(54),a(55),a(56),a(9)),i=a(2),l=a(28),m=a(16),d=a(1);const u=Object(d.shape)({start:d.number,end:d.number,numbers:Object(d.arrayOf)(Object(d.oneOfType)([d.string]))}),h=Object(d.shape)({locus:d.string.isRequired,path:d.string.isRequired,xml:d.string.isRequired,link:d.string,notes:d.string,chunks:u.isRequired}),p=Object(d.shape)({path:d.string.isRequired,author:d.string.isRequired,work:d.string.isRequired,editors:Object(d.oneOfType)([d.string,Object(d.arrayOf)(d.string)]).isRequired,sections:Object(d.arrayOf)(h).isRequired}),g=Object(d.shape)({title:Object(d.oneOfType)([d.string,d.element]).isRequired,publications:Object(d.arrayOf)(p),text:d.string}),b=(Object(d.shape)({logo:d.string,link:d.string,title:Object(d.oneOfType)([d.string,d.element]).isRequired,subtitle:d.string.isRequired,copyright:d.string,doi:d.string,report:d.string,github:d.string,twitter:d.string,collections:Object(d.arrayOf)(g).isRequired}),Object(d.shape)({search:d.string.isRequired}),Object(d.shape)({params:Object(d.shape)({chunk:d.string.isRequired}).isRequired}),Object(d.shape)({params:Object(d.shape)({publication:d.string.isRequired}).isRequired}),Object(d.shape)({w:Object(d.arrayOf)(d.string),config:d.string}),({logo:e,link:t,children:a})=>void 0!==t?r.a.createElement(m.PerseidsHeader,{logo:e,props:{href:t}},a):r.a.createElement(m.PerseidsHeader,{logo:e},a));b.defaultProps={logo:void 0,link:void 0};var E=b,k=a(45),f=a.n(k),v=a(29),w=a.n(v);const x=e=>Object(v.uriTransformer)("/"===e[0]?"".concat("/treebank-template").concat(e):e);var y=e=>r.a.createElement(w.a,Object.assign({},e,{transformLinkUri:x}));var N=({title:e,subtitle:t})=>r.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-dark ".concat(f.a.jumbotronSmall)},r.a.createElement("div",{className:"container text-light"},r.a.createElement("h1",{className:"display-4"},e),t&&(e=>r.a.createElement(y,{source:e}))(t))),O=a(30),L=a.n(O);const _=e=>{const t=e.path,a=e.author,s=e.work,o=e.editors,c=e.sections;return r.a.createElement("tr",{className:"d-flex",key:t},r.a.createElement("th",{className:"col-md-3 d-none d-md-block",scope:"row"},a),r.a.createElement("td",{className:"col-md-4 d-none d-md-block"},s),r.a.createElement("td",{className:"col-8 col-sm-7 d-block d-md-none"},r.a.createElement("strong",null,a),","," ",r.a.createElement("em",null,s)),r.a.createElement("td",{className:"col-md-3 col-lg-3 d-none d-md-block"},(e=>Array.isArray(e)?r.a.createElement("ul",{className:"pl-1"},e.map(e=>r.a.createElement("li",{key:e},e))):e)(o)),r.a.createElement("td",{className:"col-4 col-sm-5 col-md-2 col-lg-2 text-right ".concat(L.a.locus)},c.map(e=>(e=>{const t=e.locus,a=e.path,s=(e=>{const t=e.start,a=e.numbers;return t||a[0]})(e.chunks);return r.a.createElement(n.Fragment,{key:a},r.a.createElement("a",{href:"".concat(a,"/").concat(s)},t),r.a.createElement("br",null))})(e))))},S=({title:e,publications:t,text:a})=>r.a.createElement("div",{className:"container ".concat(L.a.collection)},r.a.createElement("div",{className:"row pb-3"},r.a.createElement("div",{className:"col-12"},e&&r.a.createElement("h2",null,e),a&&r.a.createElement(y,{source:a}),r.a.createElement("table",{className:"table"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",{className:"d-flex"},r.a.createElement("th",{className:"col-md-3 d-none d-md-block",scope:"col"},"Author"),r.a.createElement("th",{className:"col-8 col-sm-7 col-md-4",scope:"col"},"Work"),r.a.createElement("th",{className:"col-md-3 col-lg-3 d-none d-md-block",scope:"col"},"Editors"),r.a.createElement("th",{className:"col-4 col-sm-5 col-md-2 col-lg-2",scope:"col"},"Locus"))),r.a.createElement("tbody",null,t.map(e=>_(e))))))));S.defaultProps={publications:void 0,text:void 0};var j=S;var R=({config:e})=>{const t=e.logo,a=e.link,n=e.title,s=e.subtitle,o=e.collections;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{logo:t,link:a},n),r.a.createElement(N,{title:n,subtitle:s}),o.map(e=>(e=>{const t=e.title,a=e.text,n=e.publications;return r.a.createElement(j,{key:t,title:t,text:a,publications:n})})(e)))},I=a(17),A=a.n(I);const C={main:{debug:!1,showKeys:!1,chunkParam:"chunk",auxConfPath:"".concat("/treebank-template","/arethusa/configs"),retrievers:{TreebankRetriever:{resource:"Gardener",docIdentifier:"treebank",preselector:"w"}},plugins:["text","morph","relation","depTree","search"],layouts:[{name:"widget",template:"js/templates/widget.html"}]},notifier:{disable:!0},navigator:{chunkSize:1},navbar:!1,resources:{Gardener:{route:"".concat("/treebank-template","/xml/:doc"),params:["doc"]},lexInvFusekiEndpoint:{route:"https://fuseki.perseids.org/fuseki/ds/query?format=json"},morphologyServiceLat:{route:"https://services.perseids.org/bsp/morphologyservice/analysis/word?lang=lat&engine=morpheuslat"},newMorphologyServiceLat:{route:"https://morph.perseids.org/analysis/word?lang=lat&engine=morpheuslat"},morphologyServiceGrc:{route:"https://services.perseids.org/bsp/morphologyservice/analysis/word?lang=grc&engine=morpheusgrc"},newMorphologyServiceGrc:{route:"https://morph.perseids.org/analysis/word?lang=grc&engine=morpheusgrc"},morphologyServicePer:{route:"https://localhost/extapi/morphologyservice/analysis/word?lang=per&engine=hazm"},citeMapper:{route:"https://services.perseids.org/cite_mapper/find_cite"},sgGrammar:{route:"https://services.perseids.org/sg/:doc.html"}},plugins:{text:{main:!0,template:"js/templates/text_with_context.html"},depTree:{main:!0,contextMenu:!1,contextMenuTemplate:"js/arethusa.dep_tree/templates/context_menu.html",template:"js/templates/dep_tree_no_selector.html"},morph:{retrievers:{BspMorphRetriever:{resource:"morphologyServiceLat"}},template:"js/templates/morph3.html",contextMenu:!0,contextMenuTemplate:"js/arethusa.morph/templates/context_menu.html",lexicalInventory:{retriever:{LexicalInventoryRetriever:{resource:"lexInvFusekiEndpoint"}}},matchAll:!0,"@include":"js/arethusa.morph/configs/morph/lat_attributes.json",noRetrieval:"online"},search:{template:"js/templates/search.html",regex:!0},relation:{advancedMode:!0,relations:{}}},keyCapture:{regex:{greek:{"\u03b1":"[\u03b1\u1f01\u1f05\u1f03\u1f07\u1f00\u1f04\u1f02\u1f06\u03ac\u1f70\u1fb6\u1f81\u1f85\u1f83\u1f87\u1f80\u1f84\u1f82\u1f86\u1fb4\u1fb2\u1fb7\u1fb3]","\u03b5":"[\u03b5\u03ad\u1f72\u1f10\u1f11\u1f14\u1f12\u1f15\u1f13]","\u03b7":"[\u03b7\u1f21\u1f25\u1f23\u1f27\u1f20\u1f24\u1f22\u1f26\u03ae\u1f74\u1fc6\u1f91\u1f95\u1f93\u1f97\u1f90\u1f94\u1f92\u1f96\u1fc4\u1fc2\u1fc7\u1fc3]","\u03b9":"[\u03b9\u1f31\u1f35\u1f33\u1f37\u1f30\u1f34\u1f32\u1f36\u03af\u1f76\u1fd6]","\u03bf":"[\u03bf\u03cc\u1f78\u1f40\u1f41\u1f44\u1f42\u1f45\u1f43]","\u03c5":"[\u03c5\u1f51\u1f55\u1f53\u1f57\u1f50\u1f54\u1f52\u1f56\u03cd\u1f7a\u1fe6]","\u03c9":"[\u03c9\u1f61\u1f65\u1f63\u1f67\u1f60\u1f64\u1f62\u1f66\u03ce\u1f7c\u1ff6\u1fa1\u1fa5\u1fa3\u1fa7\u1fa0\u1fa4\u1fa2\u1fa6\u1ff4\u1ff2\u1ff7\u1ff3]"}},keys:{}}},M=JSON.parse(JSON.stringify(C));M.main.layouts=[{name:"main_with_sidepanel",template:"js/templates/main_with_sidepanel.html"}];const P="".concat("/treebank-template","/arethusa");var T=class{constructor(){this.render=this.render.bind(this)}render(e,t,{config:a,w:n}){const r=window,s=r.Arethusa,o=r.$;var c,i;this.widget?this.doc!==e||this.chunk===t&&(c=this.w,i=n,(c||[]).sort().join(",")===(i||[]).sort().join(","))||(this.gotoSentence(t,n),(e=>{e("#toast-container").remove()})(o)):(this.widget=new s,this.widget.on("treebank_container").from(P).with((e=>"sidepanel"===e?M:C)(a)).start({doc:e,chunk:t,w:n}),this.api=this.widget.api()),this.doc=e,this.chunk=t,this.w=n}gotoSentence(e,t){return this.api.gotoSentence(e,t)}getSubdoc(){return this.api.getSubdoc()}getMorph(e,t){return this.api.getMorph(e,t)}refreshView(){return this.api.refreshView()}findWord(e,t,a,n){return this.api.findWord(e,t,a,n)}},q=a(46),F=a.n(q),W=a(20),D=a(15),V=a(48),B=a(14),H=a.n(B),Q=a(11),U=a.n(Q);const G=(e,t)=>e<t?e:t,J=(e,t)=>e>t?e:t;class K extends n.Component{constructor(e){super(e),this.state={refIsOpen:!1,settingsIsOpen:!1},this.getLines=this.getLines.bind(this),this.getFbcnl=this.getFbcnl.bind(this),this.createLink=this.createLink.bind(this),this.toggleRefOpen=this.toggleRefOpen.bind(this),this.toggleSettingsOpen=this.toggleSettingsOpen.bind(this),this.renderSettingsLinks=this.renderSettingsLinks.bind(this),this.renderBack=this.renderBack.bind(this),this.renderNext=this.renderNext.bind(this)}getLines(){const e=this.props.chunks,t=e.start,a=e.end,n=e.numbers;if(n)return n;const r=[];for(let s=t;s<=a;s+=1)r.push(s);return r}getFbcnl(){const e=this.props,t=e.chunks,a=t.start,n=t.end,r=t.numbers,s=e.match.params.chunk,o=Number(s);return r?((e,t)=>{const a=t.indexOf(e);return[t[0],t[J(0,a-1)],e,t[G(t.length-1,a+1)],t[t.length-1]]})(s,r):[a,J(a,o-1),s,G(n,o+1),n]}createLink(e){const t=this.props.linkQuery,a="./".concat(e);if(Object.entries(t).length>0){const e=H.a.stringify(t);return"".concat(a,"?").concat(e)}return a}toggleRefOpen(){this.setState(({refIsOpen:e})=>({refIsOpen:!e}))}toggleSettingsOpen(){this.setState(({settingsIsOpen:e})=>({settingsIsOpen:!e}))}renderSettingsLinks(){const e=this.props.fullQuery,t=e.config,a="sidepanel"===t?"default":"sidepanel",n="sidepanel"===t?"Hide morphology":"Show morphology";return r.a.createElement("a",{href:"?".concat(H.a.stringify(Object(D.a)(Object(D.a)({},e),{},{config:a}))),className:"dropdown-item"},n)}renderBack(e,t,a){const n=a===String(e)?" invisible":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item".concat(n)},r.a.createElement(c.b,{className:"nav-link text-light ".concat(U.a.link),to:this.createLink(e)},"\xab First")),r.a.createElement("li",{className:"nav-item".concat(n)},r.a.createElement(c.b,{className:"nav-link text-light ".concat(U.a.link),to:this.createLink(t)},"\u2039 Back")))}renderNext(e,t,a){const n=e===String(a)?" invisible":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item".concat(n)},r.a.createElement(c.b,{className:"nav-link text-light ".concat(U.a.link),to:this.createLink(t)},"Next \u203a")),r.a.createElement("li",{className:"nav-item".concat(n)},r.a.createElement(c.b,{className:"nav-link text-light ".concat(U.a.link),to:this.createLink(a)},"Last \xbb")))}render(){const e=this.state,t=e.refIsOpen,a=e.settingsIsOpen,n=this.getFbcnl(),s=Object(W.a)(n,5),o=s[0],i=s[1],l=s[2],m=s[3],d=s[4],u=this.getLines();return r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"controlPanel"},r.a.createElement("ul",{className:"navbar-nav mr-auto ".concat(U.a.dummyIcon)}),r.a.createElement("ul",{className:"navbar-nav mx-auto"},this.renderBack(o,i,l),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("button",{className:"btn btn-link nav-link text-light dropdown-toggle ".concat(U.a.dropdownButton),type:"button","aria-haspopup":"true","aria-expanded":t,onClick:this.toggleRefOpen},l),r.a.createElement("div",{className:"dropdown-menu ".concat(U.a.dropdownScroll," ").concat(t?"show":"")},u.map(e=>r.a.createElement(c.b,{className:"dropdown-item",key:e,to:this.createLink(e),onClick:this.toggleRefOpen},e)))),this.renderNext(l,m,d)),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item dropdown dropleft"},r.a.createElement("button",{className:"btn btn-link nav-link text-light",type:"button","aria-haspopup":"true","aria-expanded":a,onClick:this.toggleSettingsOpen},r.a.createElement(V.a,null)),r.a.createElement("div",{className:"dropdown-menu ".concat(U.a.dropdownScroll," ").concat(a?"show":"")},this.renderSettingsLinks())))))}}var X=K;const z="".concat("/treebank-template","/arethusa"),Y=["".concat(z,"/css/arethusa.min.css"),"".concat(z,"/css/colorpicker.css"),"".concat(z,"/css/font-awesome.min.css"),"".concat(z,"/css/foundation-icons.css"),"".concat(z,"/css/widget.css")];class Z extends n.Component{componentDidMount(){}render(){return r.a.createElement(r.a.Fragment,null,Y.map(e=>r.a.createElement("link",{key:e,rel:"stylesheet",type:"text/css",href:e})))}}var $=Z;const ee=[{name:"w",type:"array"},{name:"config",type:"string",link:!0}],te=(e,t)=>"array"!==t||Array.isArray(e)?e:[e],ae=e=>{const t=H.a.parse(e,{arrayFormat:"comma"}),a={};return ee.forEach(({name:e,type:n})=>{Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=te(t[e],n))}),a};class ne extends n.Component{constructor(e){super(e),this.additionalArgs=this.additionalArgs.bind(this),this.linkQuery=this.linkQuery.bind(this),this.renderArethusa=this.renderArethusa.bind(this)}componentDidMount(){this.renderArethusa()}componentDidUpdate(){this.renderArethusa()}additionalArgs(){const e=this.props.location.search;return ae(e)}linkQuery(){return(e=>{const t=ae(e),a={};return ee.forEach(({name:e,type:n,link:r})=>{r&&Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=te(t[e],n))}),a})(this.props.location.search)}renderArethusa(){const e=this.props,t=e.xml,a=e.match.params.chunk;(0,e.arethusa.render)(t,a,this.additionalArgs())}render(){const e=this.props,t=e.chunks,a=e.match,n=this.linkQuery(),s=this.additionalArgs();return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{match:a,chunks:t,fullQuery:s,linkQuery:n}),r.a.createElement("div",{className:"__artsa"},r.a.createElement("div",{id:"treebank_container",className:F.a.treebankContainer})),r.a.createElement($,null))}}var re=ne;const se=(e,t)=>r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},e),r.a.createElement("td",{className:A.a.publicationRow},(e=>Array.isArray(e)?r.a.createElement("div",null,e.map(e=>r.a.createElement("span",{key:e},e,r.a.createElement("br",null)))):e)(t)));class oe extends n.Component{constructor(e){super(e),this.state={arethusaLoaded:!1,subDoc:""},this.setSubdoc=this.setSubdoc.bind(this),this.arethusa=new T}componentDidMount(){window.document.body.addEventListener("ArethusaLoaded",this.setSubdoc)}componentDidUpdate(e){const t=this.state.arethusaLoaded,a=this.props.location,n=e.location;t&&a!==n&&this.setSubdoc()}componentWillUnmount(){window.document.body.removeEventListener("ArethusaLoaded",this.setSubdoc)}setSubdoc(){const e=this.arethusa.getSubdoc();this.setState({subDoc:e,arethusaLoaded:!0})}render(){const e=this.props,t=e.logo,a=e.link,n=e.publicationPath,s=e.author,o=e.work,c=e.editors,i=e.locus,l=e.publicationLink,m=e.notes,d=e.xml,u=e.chunks,h=e.match,p=e.location,g=this.state.subDoc;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{logo:t,link:a},r.a.createElement("span",null,r.a.createElement("i",null,o)),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"".concat("/treebank-template","/")},"Home")))),r.a.createElement("div",{className:"container pt-3"},r.a.createElement("h2",null,r.a.createElement("span",null,s,",",r.a.createElement("i",null," ",o," "),i)),r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,!!s&&se("Author",s),!!o&&se("Work",o),!!i&&((e,t,a)=>r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},e),r.a.createElement("td",{className:A.a.publicationRow},t," ",r.a.createElement("a",{href:"../".concat(a)},"(See all)"))))("Locus",i,n),!!g&&se("Reference",g),!!c&&se("Editors",c),!!l&&((e,t)=>r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},e),r.a.createElement("td",null,r.a.createElement("a",{href:t},t))))("Link",l),!!m&&(b="Notes",k=m,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},b),r.a.createElement("td",{className:A.a.publicationRow},r.a.createElement(y,{source:k})))))),r.a.createElement("div",{className:A.a.treebankWrapper},r.a.createElement(re,{xml:d,chunks:u,location:p,match:h,arethusa:this.arethusa})),r.a.createElement("div",{className:"pt-1 pb-4 text-right"},r.a.createElement("a",{href:"".concat("/treebank-template","/xml/").concat(d),target:"_blank",rel:"noopener noreferrer"},"View XML"))));var b,k}}oe.defaultProps={logo:void 0,link:void 0,publicationLink:void 0,notes:void 0};var ce=oe;var ie=({config:{logo:e,link:t}})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{logo:e,link:t},r.a.createElement("span",null,"Not Found"),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"".concat("/treebank-template","/")},"Home")))),r.a.createElement("div",{className:"container pt-5"},r.a.createElement("div",{className:"row col-12 pt-5 pb-3"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h1",null,"Error 404"))),r.a.createElement("div",{className:"row col-12 pb-3"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h2",null,"Publication not found"))),r.a.createElement("div",{className:"row col-12 pb-3"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h2",null,r.a.createElement("a",{href:"".concat("/treebank-template","/")},"Return to homepage"))))));class le extends n.Component{constructor(e){super(e);const t=e.config,a={},n=t.logo,r=t.link;t.collections.forEach(e=>{(e.publications||[]).forEach(e=>{const t=e.author,s=e.work,o=e.editors,c=e.path;e.sections.forEach(e=>{const i=e.path,l=e.locus,m=e.link,d=e.notes,u=e.xml,h=e.chunks;a[i]={logo:n,link:r,publicationPath:c,author:t,work:s,editors:o,locus:l,publicationLink:m,notes:d,xml:u,chunks:h}})})}),this.argsLookup=a}render(){const e=this.props,t=e.config,a=e.match,n=e.location,s=a.params.publication,o=this.argsLookup[s];return void 0===o?r.a.createElement(ie,{config:t}):r.a.createElement(ce,Object.assign({},o,{match:a,location:n}))}}var me=le;var de=({config:{logo:e,link:t,title:a,subtitle:n,collections:s}})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{logo:e,link:t},a,r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"".concat("/treebank-template","/")},"Home")))),r.a.createElement(N,{title:a,subtitle:n}),s.map(e=>(e=>{const t=e.title,a=e.publications;return r.a.createElement(j,{key:t,title:t,publications:a})})(e)));class ue extends n.Component{constructor(e){super(e);const t=e.config,a={},n=t.logo,s=t.link,o=t.title,c=t.subtitle;t.collections.forEach(e=>{(e.publications||[]).forEach(e=>{const t=e.path,i=e.author,l=e.work;a[t]={logo:n,link:s,title:o,subtitle:c,collections:[{title:r.a.createElement(r.a.Fragment,null,i,","," ",r.a.createElement("i",null,l)),publications:[e]}]}})}),this.argsLookup=a}render(){const e=this.props,t=e.config,a=e.match.params.publication,n=this.argsLookup[a];return void 0===n?r.a.createElement(ie,{config:t}):r.a.createElement(de,{config:n})}}var he=ue;var pe=({config:e,config:{copyright:t,doi:a,report:n,github:s,twitter:o}})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:()=>r.a.createElement(R,{config:e})}),r.a.createElement(i.b,{exact:!0,path:"/:publication/",render:t=>r.a.createElement(he,Object.assign({},t,{config:e}))}),r.a.createElement(i.b,{exact:!0,path:"/:publication/:chunk",render:t=>r.a.createElement(me,Object.assign({},t,{config:e}))}),r.a.createElement(i.b,{path:"/",component:()=>r.a.createElement(ie,{config:e})})),r.a.createElement(m.PerseidsFooter,{copyright:t,doi:a,report:n,github:s,twitter:o})),ge=a(33),be=a.n(ge),Ee=a(6);const ke={name:"treebank",targetIframeID:"string-not-used",targetURL:"string-not-used",commModes:[Ee.WindowIframeDestination.commModes.RECEIVE]},fe=(e,t,a)=>Ee.ResponseMessage.Error(e,new Error(t),a),ve=({wordIds:e,config:t,sentenceId:a})=>{const n=(r={w:e,config:t},H.a.stringify(r,{arrayFormat:"comma"}));var r;return""===n?a:"".concat(a,"?").concat(n)};class we extends n.Component{constructor(e){super(e),this.state={arethusaLoaded:!1,redirectTo:null},this.messageHandler=this.messageHandler.bind(this),this.setArethusaLoaded=this.setArethusaLoaded.bind(this)}componentDidMount(){this.destination=new Ee.WindowIframeDestination(Object(D.a)(Object(D.a)({},ke),{},{receiverCB:this.messageHandler})),this.service=new Ee.MessagingService("treebank-service",this.destination),window.document.body.addEventListener("ArethusaLoaded",this.setArethusaLoaded)}componentWillUnmount(){this.destination.deregister(),window.document.body.removeEventListener("ArethusaLoaded",this.setArethusaLoaded)}setArethusaLoaded(){this.setState({arethusaLoaded:!0})}messageHandler(e,t){const a=this.props.arethusa,n=this.state.arethusaLoaded,r=e.body,s=Object.keys(r),o=Object(W.a)(s,1)[0];if(n)try{switch(o){case"gotoSentence":this.setState({redirectTo:ve(r.gotoSentence)}),t(Ee.ResponseMessage.Success(e,{status:"success"}));break;case"getMorph":t(Ee.ResponseMessage.Success(e,a.getMorph(r.getMorph.sentenceId,r.getMorph.wordId)));break;case"refreshView":t(Ee.ResponseMessage.Success(e,a.refreshView()));break;case"findWord":t(Ee.ResponseMessage.Success(e,a.findWord(r.findWord.sentenceId,r.findWord.word,r.findWord.prefix,r.findWord.suffix)));break;default:t(fe(e,"Unsupported request: ".concat(o),Ee.ResponseMessage.errorCodes.UNKNOWN_REQUEST))}}catch(c){t(Ee.ResponseMessage.Error(e,c,Ee.ResponseMessage.errorCodes.INTERNAL_ERROR))}else t(fe(e,"Arethusa is Not Loaded",Ee.ResponseMessage.errorCodes.SERVICE_UNINITIALIZED))}render(){const e=this.state.redirectTo;return e&&r.a.createElement(i.a,{to:e})}}var xe=we;class ye extends n.Component{componentDidMount(){this.renderArethusa()}componentDidUpdate(){this.renderArethusa()}renderArethusa(){const e=this.props,t=e.xml,a=e.match.params.chunk,n=e.arethusa.render,r=e.location.search;n(t,a,ae(r))}render(){const e=this.props,t=e.match,a=e.arethusa,n=t.params,s=n.publication,o=n.chunk;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"__artsa"},r.a.createElement("div",{id:"treebank_container",className:be.a.treebankContainer})),r.a.createElement("div",{className:be.a.links},r.a.createElement("a",{href:"".concat("/treebank-template","/").concat(s,"/").concat(o),target:"_blank",rel:"noopener noreferrer"},"Credits and more information")),r.a.createElement($,null),r.a.createElement(xe,{arethusa:a}))}}var Ne=ye;class Oe extends n.Component{constructor(e){super(e),this.arethusa=new T}render(){const e=this.props,t=e.xml,a=e.match,n=e.location;return r.a.createElement("div",null,r.a.createElement(Ne,{xml:t,location:n,match:a,arethusa:this.arethusa}))}}var Le=Oe;var _e=()=>r.a.createElement("div",{className:"container pt-5"},r.a.createElement("div",{className:"row col-12 pt-5 pb-3"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h1",null,"Error 404"))),r.a.createElement("div",{className:"row col-12 pb-3"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("h2",null,"Publication not found"))));class Se extends n.Component{constructor(e){super(e);const t=e.config,a={};t.collections.forEach(e=>{(e.publications||[]).forEach(e=>{e.sections.forEach(e=>{const t=e.path,n=e.xml;a[t]={xml:n}})})}),this.argsLookup=a}render(){const e=this.props,t=e.config,a=e.match,n=e.location,s=a.params.publication,o=this.argsLookup[s];if(void 0===o)return r.a.createElement(_e,{config:t});const c=o.xml;return r.a.createElement(Le,{xml:c,match:a,location:n})}}var je=Se;var Re=({config:e})=>r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/embed/:publication/:chunk",render:t=>r.a.createElement(je,Object.assign({},t,{config:e}))}),r.a.createElement(i.b,{path:"/",component:()=>r.a.createElement(_e,{config:e})}));var Ie=()=>r.a.createElement(c.a,{basename:"/treebank-template"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/embed/",component:()=>r.a.createElement(Re,{config:l})}),r.a.createElement(i.b,{path:"/",component:()=>r.a.createElement(pe,{config:l})})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})},17:function(e,t,a){e.exports={publicationRow:"Publication_publicationRow__3taiJ",treebankWrapper:"Publication_treebankWrapper__2KYz-"}},28:function(e){e.exports=JSON.parse('{"title":"Treebank Publication Template","subtitle":"Template for publishing collections of treebanks. See the [repository](https://github.com/perseids-publications/treebank-template/) for more information and documentation. If you would like to create a template with your own treebanks, send us a [message](https://docs.google.com/forms/d/e/1FAIpQLSf8yf6B3xlV31x0JKquRuIdXd6LVuX0V7I7id7ZLXbMwDo-UA/viewform).","doi":"10.5281/zenodo.3827930","copyright":"The Perseids Project","report":"https://github.com/perseids-publications/treebank-template/issues","github":"https://github.com/perseids-publications/treebank-template/","twitter":"https://twitter.com/PerseidsProject","collections":[{"title":"Information","text":"The Treebank Template is maintained by the Perseids Project. See the [getting started instructions](/getting-started/). Or visit [our homepage](https://www.perseids.org) to learn more."},{"title":"Collection 1","publications":[{"path":"on-the-murder-of-eratosthenes","author":"Lysias","work":"On the Murder of Eratosthenes","editors":"Vanessa Gorman","sections":[{"locus":"1-50","path":"on-the-murder-of-eratosthenes-1-50","xml":"lysias-1-1-50.xml","link":"https://www.example.com","notes":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","chunks":{"start":1,"end":134}}]},{"path":"on-the-crown","author":"Demosthenes","work":"On the Crown","editors":"Vanessa Gorman","sections":[{"locus":"1-50","path":"on-the-crown-1-50","xml":"demosthenes-18-1-50.xml","notes":"Lorem ipsum dolor sit amet, *consectetur* adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","chunks":{"start":1,"end":160}},{"locus":"51-100","path":"on-the-crown-51-100","xml":"demosthenes-18-51-100.xml","chunks":{"start":1,"end":149}}]}]},{"title":"Collection 2","publications":[{"path":"histories","author":"Herodotus","work":"The Histories","editors":"Vanessa Gorman","sections":[{"locus":"40-59","path":"histories-40-59","xml":"herodotus-1-40-59.xml","chunks":{"start":1,"end":100}},{"locus":"60-79","path":"histories-60-79","xml":"herodotus-1-60-79.xml","chunks":{"start":1,"end":166}},{"locus":"80-99","path":"histories-80-99","xml":"herodotus-1-80-99.xml","notes":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","chunks":{"start":1,"end":185}}]},{"path":"philippic","author":"Demosthenes","work":"Philippic 1","editors":["Robert Gorman","Vanessa Gorman"],"sections":[{"locus":"1-51","path":"philippic-1-51","xml":"demosthenes-4-phil1-bu1.xml","chunks":{"numbers":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159"]}}]}]}]}')},30:function(e,t,a){e.exports={collection:"Collection_collection__1AxyD",locus:"Collection_locus__2K5Td"}},33:function(e,t,a){e.exports={treebankContainer:"EmbeddedTreebank_treebankContainer__2X6pS",links:"EmbeddedTreebank_links__1ndYN"}},45:function(e,t,a){e.exports={jumbotronSmall:"Hero_jumbotronSmall__IN8kP"}},46:function(e,t,a){e.exports={treebankContainer:"Treebank_treebankContainer__sQn_K"}},49:function(e,t,a){e.exports=a(150)},56:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.6d21b911.chunk.js.map